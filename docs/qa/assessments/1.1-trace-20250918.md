# Requirements Traceability Matrix

## Story: 1.1 - MCP Server Project Setup

### Coverage Summary

- Total Requirements: 6
- Fully Covered: 6 (100%)
- Partially Covered: 0 (0%)
- Not Covered: 0 (0%)

### Requirement Mappings

#### AC1: Python 3.11 project structure created with proper package organization

- **Coverage:** FULL
- **Tests:**
  - `tests/unit/test_project_bootstrap.py::test_source_tree_structure`
    - Given: Expected module directory names from architecture source-tree guidance
    - When: Inspecting `src/legacy_web_mcp`
    - Then: All required package directories exist
  - `tests/unit/test_project_bootstrap.py::test_package_version`
    - Given: Installed package metadata
    - When: Importing `legacy_web_mcp`
    - Then: Package exposes version string, proving project package layout loads correctly

#### AC2: FastMCP framework integrated and basic MCP server responds to ping requests

- **Coverage:** FULL
- **Tests:**
  - `tests/unit/test_server.py::test_ping_returns_status`
    - Given: Ping coroutine
    - When: Invoked directly
    - Then: Returns `status="ok"` with runtime metadata
  - `tests/unit/test_server.py::test_create_mcp_registers_ping_tool`
    - Given: MCP instance created
    - When: Listing tools
    - Then: `ping` tool registered
  - `tests/unit/test_project_bootstrap.py::test_cli_invokes_server_run`
    - Given: CLI entrypoint
    - When: `legacy_web_mcp.cli.main()` executes (with run monkeypatched)
    - Then: Delegates to server run, linking CLI to FastMCP bootstrap

#### AC3: Development environment setup with linting, formatting, and basic testing framework

- **Coverage:** FULL
- **Tests:**
  - `tests/unit/test_project_bootstrap.py::test_pyproject_tooling_configuration`
    - Given: `pyproject.toml`
    - When: Parsing `[tool.ruff]`, `[tool.mypy]`, `[tool.pytest.ini_options]`, and dev dependencies
    - Then: Required tooling configuration present
  - Dev debug log records lint/type/test commands (supplemental evidence)

#### AC4: Git repository initialized with appropriate .gitignore and README

- **Coverage:** FULL
- **Tests:**
  - `tests/unit/test_project_bootstrap.py::test_gitignore_covers_python_artifacts`
    - Given: `.gitignore`
    - When: Checking critical patterns
    - Then: Py cache, bytecode, egg-info, Playwright outputs ignored
  - `tests/unit/test_project_bootstrap.py::test_readme_documents_setup_sections`
    - Given: README contents
    - When: Scanning for required sections
    - Then: Key onboarding sections (`Getting Started`, `Running the Server`, etc.) present

#### AC5: Basic CI/CD pipeline configured for automated testing

- **Coverage:** FULL
- **Tests:**
  - `tests/unit/test_project_bootstrap.py::test_ci_workflow_runs_tooling`
    - Given: `.github/workflows/ci.yml`
    - When: Inspecting job steps
    - Then: CI executes `uv run ruff check`, `uv run ruff format --check`, `uv run mypy src tests`, and `uv run pytest`
  - Passing local commands (debug log references) corroborate configuration

#### AC6: Environment variable template created for configuration management

- **Coverage:** FULL
- **Tests:**
  - `tests/unit/test_project_bootstrap.py::test_env_template_keys_present`
    - Given: `.env.template`
    - When: Parsing key-value pairs
    - Then: All required keys for LLM providers, models, browser settings, and storage present

### Critical Gaps

None â€“ all acceptance criteria have automated coverage.

### Test Design Recommendations

- Maintain regression suite; future stories should add integration/E2E smokes as functionality expands

### Risk Assessment

- **High Risk:** None
- **Medium Risk:** None
- **Low Risk:** Entire story covered by deterministic unit checks

---

Trace matrix: docs/qa/assessments/1.1-trace-20250918.md
