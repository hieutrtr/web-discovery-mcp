# Risk Profile: Story 1.3 - Basic Configuration Management

## Summary Score

- Base Score: 100
- Critical Risks: 0 (−0)
- High Risks: 1 (−10)
- Medium Risks: 0 (−0)
- Low Risks: 1 (−0)

**Residual Score:** 90 (Acceptable with targeted mitigations)

## Risk Matrix

| Risk ID | Description | Probability | Impact | Score | Priority |
|---------|-------------|-------------|--------|-------|----------|
| OPS-001 | Missing STEP/LLM env keys still block downstream probes even though validator warns | Medium (2) | High (3) | 6 | High |
| SEC-001 | Team could place sensitive API keys inside `config/default.yaml` or other tracked config overrides | Low (1) | High (3) | 3 | Low |

## Risk Register

### OPS-001 – Secrets absent in deployment environments
- **Category:** Operational
- **Context:** The validator and diagnostics surface remediation, but core LLM features remain unusable until keys are provided.
- **Current Mitigation:** Clear remediation text, `.env.template` parity test, and README callouts.
- **Recommended Actions:** Add CI check or bootstrap script that fails when mandatory keys missing in production deploy; document fallback behaviour (server should continue boot with degraded capabilities).

### SEC-001 – Secrets in tracked config files
- **Category:** Security
- **Context:** Loader accepts YAML/JSON overrides; nothing stops developers from storing API keys in committed config files.
- **Current Mitigation:** Documentation directs secrets to environment variables, and `display_dict` redacts sensitive fields if present.
- **Recommended Actions:** Extend contributor guidelines or pre-commit hooks to flag secrets in `config/*.{yml,json}`; consider optional schema validation that rejects string overrides for fields marked sensitive.

## Risk-Based Testing Strategy

- Continue regression test coverage on validator output to ensure warnings stay actionable (covers OPS-001).
- Consider future smoke test that runs with intentionally missing env keys to ensure diagnostics stays functional without fatal errors.
- Evaluate secret scanning tooling (e.g., `detect-secrets`) on config directories to guard against SEC-001 regressions.

---

Risk profile: docs/qa/assessments/1.3-risk-20250918.md
