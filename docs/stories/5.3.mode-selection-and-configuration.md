# Story 5.3: Mode Selection and Configuration

## Status
Approved

## Story
**As a** user,
**I want** to easily choose between Interactive and YOLO modes,
**so that** I can select the appropriate analysis approach based on my project needs and available time

## Acceptance Criteria
1. MCP tool `start_analysis` presents clear mode selection with descriptions of each approach
2. Mode-specific configuration options (Interactive: validation levels, YOLO: automation settings)
3. Default mode configuration via environment variables for consistent user preferences
4. Mode switching capability allowing transition from Interactive to YOLO mid-analysis
5. Mode comparison help explaining trade-offs between speed, cost, and validation
6. Quick-start with sensible defaults requiring minimal configuration

## Tasks / Subtasks
- [ ] Create `start_analysis` tool presenting interactive vs YOLO explanations (AC: 1,5)
- [ ] Collect mode-specific configuration before delegating to respective workflows (AC: 2,6)
- [ ] Load defaults from environment variables defined in Story 3.2/1.3 (AC: 3)
- [ ] Implement runtime switch to transfer active queue from interactive to YOLO flow (AC: 4)
- [ ] Persist mode choice and configuration for documentation/telemetry (AC: 5,6)

## Dev Notes
- Deliver experience outlined in `docs/prd.md#story-53-mode-selection-and-configuration`.
- Reuse CLI/UX patterns from interactive/YOLO tools to keep messaging consistent.
- Ensure environment overrides follow precedence rules in `docs/stories/1.3.basic-configuration-management.md`.
- Mode switch must coordinate with checkpointing (`docs/stories/4.2.checkpoint-and-resume-functionality.md`).
- Document trade-offs referencing cost/performance data from `docs/prd.md#non-functional-requirements`.

### Testing
- Unit test configuration precedence and default selection behavior.
- Integration test start -> interactive -> switch to YOLO path to confirm continuity.
- Snapshot test help text to prevent regressions in messaging clarity.

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-02-14 | 0.1 | Initial draft | John (PM) |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results

Gate: PASS â†’ docs/qa/gates/5.3-mode-selection-and-configuration.yml
